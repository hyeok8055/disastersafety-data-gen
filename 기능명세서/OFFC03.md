# OFFC03

κΈ°λ¥λ…: κµ¬νΈν’ ν„ν™© μ¬κ³  κ΄€λ¦¬
μ„¤λ…: ν„μ¬ λ€ν”Όμ†μ— μλ” κµ¬νΈν’ μ¬κ³  κ΄€λ¦¬

### **π“ 1. κΈ°λ¥ μƒμ„Έ μ •λ³΄**

- **κΈ°λ¥ ID:** `OFFC03`
- **κΈ°λ¥λ…:** ν„μ¬ κµ¬νΈν’ μ¬κ³  κ΄€λ¦¬
- **κΈ°λ¥ μ„¤λ…:**
    
    κ³µλ¬΄μ›μ΄ ν„μ¬ λ€ν”Όμ† λ‚΄ λ³΄κ΄€ μ¤‘μΈ κµ¬νΈν’ μ¬κ³ λ¥Ό ν™•μΈν•κ³  κ΄€λ¦¬ν•  μ μλ” κΈ°λ¥.
    
    κ° ν•­λ©λ³„λ΅ **κµ¬νΈν’ μ΄λ¦„, κΈ΄κΈ‰λ„, ν„μ¬ μλ‰, μμƒ ν•„μ” μλ‰, λ¶€μ΅± μλ‰**μ„ ν‘μ‹ν•λ©°, νΉμ • ν•­λ©μ„ ν΄λ¦­ν•λ©΄ μ΄λ¦„μ΄λ‚ μλ‰μ„ μ§μ ‘ μμ •ν•  μ μμ.
    
    μ΄ κΈ°λ¥μ€ `OFFC02`(ν•„μ” κµ¬νΈν’ λ“±λ΅) λ° `RECS00`(μλ™ μ¶”μ²) κΈ°λ¥κ³Ό μ—°κ³„
    
- **μ‚¬μ©μ μ—­ν• :** κ³µλ¬΄μ›
- **μ…λ ¥κ°’:**
    - `shelter_id` (ν•„μ, string) β€“ μ΅°ν/κ΄€λ¦¬ν•  λ€ν”Όμ† ID
    - `inventory_items` (array) β€“ κµ¬νΈν’ μ¬κ³  λ©λ΅
        
        κ° ν•­λ© κµ¬μ„± μμ‹:
        
        ```json
        {
          "item_id": "item123",
          "name": "μƒμ",
          "urgency": "λ†’μ",
          "current_quantity": 120,
          "expected_quantity": 200,
          "shortage_quantity": 80,
        }
        
        ```
        
- **μ¶λ ¥κ°’:**
    - μ„±κ³µ μ‹: `{ "message": "μ¬κ³  μ •λ³΄κ°€ μ—…λ°μ΄νΈλμ—μµλ‹λ‹¤." }`
    - μ‹¤ν¨ μ‹: `{ "error": "μ—λ¬ λ©”μ‹μ§€" }`

---

### **π“ 2. μ²λ¦¬ νλ¦„ (Flowchart)**

```mermaid
graph TD;
  A[μ¬κ³  κ΄€λ¦¬ ν™”λ©΄ μ§„μ…] --> B[κµ¬νΈν’ λ©λ΅ ν‘μ‹: μ΄λ¦„, κΈ΄κΈ‰λ„, ν„μ¬μλ‰, ν•„μ”μλ‰, λ¶€μ΅±μλ‰];
  B --> C[νΉμ • ν•­λ© ν΄λ¦­];
  C --> D[μ¬κ³  μμ • ν™”λ©΄: μ΄λ¦„/μλ‰ νΈμ§‘ κ°€λ¥];
  D --> E[μμ •κ°’ ν™•μΈ λ° μ €μ¥];
  E --> F[DB μ—…λ°μ΄νΈ μ”μ²­];
  F --> G{μ €μ¥ μ„±κ³µ μ—¬λ¶€};
  G -->|μ„±κ³µ| H[μ—…λ°μ΄νΈ μ™„λ£ λ©”μ‹μ§€ ν‘μ‹];
  G -->|μ‹¤ν¨| I[μ—λ¬ λ©”μ‹μ§€ ν‘μ‹];

```

---

### **π“ 3. μμ™Έ μ²λ¦¬**

- β οΈ ν•„μ κ°’(`shelter_id`, `item_id`) λ„λ½ β†’ `"ν•„μ μ •λ³΄λ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”."`
- β οΈ μλ‰ μ…λ ¥ μ¤λ¥ (μμ, λ¬Έμμ—΄ λ“±) β†’ `"μλ‰μ€ 0 μ΄μƒμ μ«μλ§ μ…λ ¥ κ°€λ¥ν•©λ‹λ‹¤."`
- β οΈ μ΅΄μ¬ν•μ§€ μ•λ” ν•­λ© μμ • μ‹λ„ β†’ `"μ΅΄μ¬ν•μ§€ μ•λ” κµ¬νΈν’μ…λ‹λ‹¤."`
- β οΈ DB μ €μ¥ μ‹¤ν¨ β†’ `"μ¬κ³  μ—…λ°μ΄νΈ μ¤‘ μ¤λ¥κ°€ λ°μƒν–μµλ‹λ‹¤. λ‹¤μ‹ μ‹λ„ν•΄μ£Όμ„Έμ”."`

---

## π“ **κΈ΄κΈ‰λ„ κΈ°μ¤€**

| κΈ΄κΈ‰λ„ | μ •λ‰ κΈ°μ¤€ (μ¶©μ΅±λ¥ ) | ν‘μ‹ λ°©μ‹ |
| --- | --- | --- |
| **λ†’μ π”΄** | ν„μ¬ μλ‰μ΄ μμƒ ν•„μ” μλ‰μ **50% λ―Έλ§** | λΉ¨κ°„μƒ‰ νƒκ·Έ + κ²½κ³  μ•„μ΄μ½ |
| **μ¤‘κ°„ π ** | ν„μ¬ μλ‰μ΄ μμƒ ν•„μ” μλ‰μ **50~80%** | μ£Όν™©μƒ‰ νƒκ·Έ |
| **λ‚®μ πΆ** | ν„μ¬ μλ‰μ΄ μμƒ ν•„μ” μλ‰μ **80% μ΄μƒ** | μ΄λ΅μƒ‰ νƒκ·Έ |